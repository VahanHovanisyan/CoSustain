(()=>{"use strict";new class{constructor(t,e){let s={marker:this.marker,dropdown:{click:this.click,hover:this.hover},fixed:{defaultValue:this.defaultValue,scrolling:this.scrolling},breakpoint:768,offsetSize:{maxHeight:"100vh",maxWidth:"100vw"},whichSide:{top:!0,bottom:this.bottom,left:this.left,right:this.right},position:{top:!0,bottom:this.bottom,left:this.left,right:this.right},speed:900,overlay:!1};this.options=Object.assign(s,e),this.header=document.querySelector(`[data-burger-header="${t}"]`),this.headerContainer=this.header.querySelector(".header__container"),this.nav=this.header?.querySelector("[data-burger-nav]"),this.navList=this.nav?.querySelector(".nav__list"),this.navItems=this.nav?.querySelectorAll("[data-burger-nav-item]"),this.navSubItems=this.navList?.querySelectorAll(".nav__sub-item"),this.burger=this.header?.querySelector("[data-burger-btn]"),this.mediaQuery=window.matchMedia(`(max-width: ${this.options.breakpoint}px)`),this.main=document.querySelector(".main"),this.footer=document.querySelector(".footer"),this.elemsClassNameActive={nav:"nav_open",burger:"burger_active"},this.header.style.setProperty("--burger-speed",`${this.options.speed}ms`),this.documentEventKey=this.documentEventKey.bind(this),this.handleMediaChange=this.handleMediaChange.bind(this),this.mediaQuery.addEventListener("change",this.handleMediaChange),this.headerClick=this.headerHandle.bind(this),this.header.addEventListener("click",this.headerClick),(window.matchMedia("(pointer:coarse)").matches||this.options.dropdown.click&&!this.options.dropdown.hover)&&(this.drop=this.dropdownHandle.bind(this),this.navList.addEventListener("click",this.drop)),window.matchMedia("(pointer: fine) and (hover: hover)").matches&&this.options.dropdown.hover&&(this.dropdowns=this.navList.querySelectorAll(".dropdown"),this.dropdowns.forEach((t=>{t.classList.add("dropdown-hover")}))),this.setWhichSide(!0),this.getFixed(),this.initMedia()}disableScroll(){const t=document?.querySelectorAll("[data-fixed-block]"),e=window.scrollY,s=window.innerWidth-document.body.offsetWidth+"px";document.documentElement.style.scrollBehavior="auto",t.forEach((t=>{t.style.paddingRight=s})),document.body.style.paddingRight=s,document.body.classList.add("dis-scroll"),document.body.dataset.position=e,document.querySelector(".header").style.top=`${e}px`,document.body.style.top=`-${e}px`}enableScroll(){const t=document?.querySelectorAll("[data-fixed-block]"),e=parseInt(document.body.dataset.position,10);t.forEach((t=>{t.style.paddingRight="0"})),document.body.style.paddingRight="0px",document.body.style.top="",document.querySelector(".header").style.top=0,document.body.classList.remove("dis-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position"),"smooth"==getComputedStyle(document.documentElement).scrollBehavior&&(document.documentElement.style.scrollBehavior="smooth")}navToggle(t){this.header.classList.toggle("header_active",t),this.burger?.classList.toggle(this.elemsClassNameActive.burger,t),this.nav?.classList.toggle(this.elemsClassNameActive.nav,t),this.burger?.setAttribute("aria-expanded",t.toString()),this.burger?.setAttribute("aria-label",t?"Close menu":"Open menu")}navShow(){this.navToggle(!0),this.disableScroll(),document.body.addEventListener("keydown",this.documentEventKey),this.setWhichSide(!1),this.setPosition(),this.nav.removeAttribute("inert",""),this.main?.setAttribute("inert",""),this.footer?.setAttribute("inert","")}navHide(){this.navToggle(!1),this.enableScroll(),document.body.removeEventListener("keydown",this.documentEventKey),this.setWhichSide(!0),this.setPosition(),this.nav.setAttribute("inert",""),this.main?.removeAttribute("inert",""),this.footer?.removeAttribute("inert","")}getOffsetSize(t){t?(this.nav.style.setProperty("--max-height",this.options.offsetSize.maxHeight),this.nav.style.setProperty("--max-width",this.options.offsetSize.maxWidth)):(this.nav.style.removeProperty("--max-height"),this.nav.style.removeProperty("--max-width"))}setWhichSide(t){const{top:e,bottom:s,right:i,left:o}=this.options.whichSide;e&&this.nav.style.setProperty("inset",` ${t?"-100%":0} 0 ${t?"100%":0} 0`),s&&this.nav.style.setProperty("inset",` ${t?"100%":0} 0 ${t?"-100%":0} 0`),o&&this.nav.style.setProperty("inset",`0 ${t?"100%":0} 0 ${t?"-100%":0}`),i&&this.nav.style.setProperty("inset",`0 ${t?"-100%":0} 0 ${t?"100%":0}`)}setPosition(){const{top:t,bottom:e,right:s,left:i}=this.options.position;t&&this.nav.style.setProperty("bottom","auto"),e&&this.nav.style.setProperty("top","auto"),i&&this.nav.style.setProperty("right","auto"),s&&this.nav.style.setProperty("left","auto")}getFixed(){const{scrolling:t,defaultValue:e}=this.options.fixed;e&&this.enableFixed(),t&&(window.scrollY>t?this.enableFixed():this.disableFixed(),window.onscroll=()=>window.scrollY>t?this.enableFixed():this.disableFixed())}enableFixed(){this.header.classList.add("header_fixed"),this.header.setAttribute("data-fixed-block",""),document.body.style.paddingTop=this.header.offsetHeight+"px"}disableFixed(){this.header.style.setProperty("padding-right","0"),this.header.classList.remove("header_fixed"),this.header.removeAttribute("data-fixed-block"),document.body.style.paddingTop=""}mobileVersion(){this.getOffsetSize(!0),this.getOverlay(!0),this.setPosition(),this.header.classList.remove("header_desctop"),this.headerContainer.append(this.burger),this.nav.classList.remove("nav_desctop"),this.nav.setAttribute("inert",""),this.burger.classList.contains(this.elemsClassNameActive.burger)&&this.nav.classList.contains(this.elemsClassNameActive.nav)&&this.disableScroll(),this.nav.style.paddingTop=this.nav.closest(".header").offsetHeight+"px",this.nav.setAttribute("data-fixed-block",""),this.main?.removeAttribute("inert",""),this.footer?.removeAttribute("inert","")}desctopVersion(){this.header.classList.add("header_desctop"),this.nav.classList.add("nav_desctop"),this.burger.remove(),this.nav.style.paddingTop="",this.enableScroll(),this.getOffsetSize(!1),this.getOverlay(!1)}initMedia(){this.mediaQuery.matches?this.desctopVersion():this.mobileVersion()}handleMediaChange(t){t.matches?this.desctopVersion():this.mobileVersion()}documentEventKey(t){"Escape"===t.key&&this.navHide()}getOverlay(t){if(this.options.overlay)return;const e=document.createElement("div");e.classList.add("header__overlay"),this.headerContainer=this.header?.querySelector(".header__container"),!t&&this.header?.querySelector(".header__overlay")?.remove(),t&&this.headerContainer?.append(e)}dropdownHandle(t){if(!t.target.closest(".dropdown-button"))return;const e=t.target.closest(".dropdown").querySelector(".dropdown-list");function s(t=null){const e=[];if(t){let s=t.parentNode;for(;s&&!s.classList.contains("nav__list");)"UL"===s.nodeName&&e.push(s),s=s.parentNode}document.querySelectorAll(".nav__list ul").forEach((s=>{if(s!=t&&!e.includes(s)){s.classList.remove("dropdown-list-active");const t=s.parentNode.querySelector(".dropdown-button");t&&!s.classList.contains("dropdown-list-active")&&(t.classList.remove("dropdown-button-active"),s.parentNode.classList.remove("dropdown-active"))}}))}s(e),t.target.closest(".dropdown").classList.toggle("dropdown-active"),t.target.classList.toggle("dropdown-button-active"),e.classList.toggle("dropdown-list-active");const i=t=>{t.target.closest(".nav__list")||(s(),document.removeEventListener("click",i))};document.addEventListener("click",i)}headerHandle(t){const e=t.target.closest(".nav__item"),s=t.target.closest(".nav__link");if(t.target.closest(".burger")&&(this.burger.classList.contains(this.elemsClassNameActive.burger)&&this.nav.classList.contains(this.elemsClassNameActive.nav)?this.navHide():this.navShow()),s){this.options.marker&&(this.navItems.forEach((t=>t.classList.remove("nav__item_active"))),e.classList.add("nav__item_active"));const t=document.querySelectorAll(".dropdown-list");this.navList.querySelectorAll(".dropdown-button").forEach((t=>t.classList.remove("dropdown-button-active"))),t.forEach((t=>t.classList.remove("dropdown-list-active"))),this.navHide()}t.target.closest(".header__overlay")&&this.navHide()}}("header",{breakpoint:0}),new class{constructor(t){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},t),this.modal=document.querySelector(".graph-modal"),this.speed=300,this.animation="fade",this._reOpen=!1,this._nextContainer=!1,this.modalContainer=!1,this.isOpen=!1,this.previousActiveElement=!1,this._focusElements=["a[href]","input","select","textarea","button","iframe","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._fixBlocks=document.querySelectorAll(".fix-block"),this.events()}events(){this.modal&&(document.addEventListener("click",function(t){const e=t.target.closest("[data-graph-path]");if(e){let t=e.dataset.graphPath,s=e.dataset.graphAnimation,i=e.dataset.graphSpeed;return this.animation=s||"fade",this.speed=i?parseInt(i):300,this._nextContainer=document.querySelector(`[data-graph-target="${t}"]`),void this.open()}t.target.closest(".js-modal-close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(t){27==t.keyCode&&this.isOpen&&this.close(),9==t.which&&this.isOpen&&this.focusCatch(t)}.bind(this)),document.addEventListener("click",function(t){t.target.classList.contains("graph-modal")&&t.target.classList.contains("is-open")&&this.close()}.bind(this)))}open(t){if(this.previousActiveElement=document.activeElement,this.isOpen)return this.reOpen=!0,void this.close();this.modalContainer=this._nextContainer,t&&(this.modalContainer=document.querySelector(`[data-graph-target="${t}"]`)),this.modalContainer.scrollTo(0,0),this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.disableScroll(),this.modalContainer.classList.add("graph-modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()}),this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("graph-modal-open"),this.enableScroll(),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen&&(this.reOpen=!1,this.open()))}focusCatch(t){const e=this.modalContainer.querySelectorAll(this._focusElements),s=Array.prototype.slice.call(e),i=s.indexOf(document.activeElement);t.shiftKey&&0===i&&(s[s.length-1].focus(),t.preventDefault()),t.shiftKey||i!==s.length-1||(s[0].focus(),t.preventDefault())}focusTrap(){const t=this.modalContainer.querySelectorAll(this._focusElements);this.isOpen?t.length&&t[0].focus():this.previousActiveElement.focus()}disableScroll(){let t=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=t,document.body.style.top=-t+"px"}enableScroll(){let t=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scrollTo({top:t,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let t=window.innerWidth-document.body.offsetWidth+"px";this._fixBlocks.forEach((e=>{e.style.paddingRight=t})),document.body.style.paddingRight=t}unlockPadding(){this._fixBlocks.forEach((t=>{t.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}})();